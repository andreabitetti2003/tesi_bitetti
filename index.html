<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Toxic text analyzer</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <script type="module" src="script.js"></script>

    <header>
        <h1>Toxic text analyzer with <i>Toxic-BERT</i></h1>
    </header>

    <section class="input-section">
        <div class="text-source-toggle">
            <label class="switch">
                <input type="checkbox" id="toggle-source" />
                <span class="slider"></span>
            </label>
            <span id="toggle-label">Scrivi o incolla il testo da analizzare</span>
        </div>

        <div id="text-input-section">
            <textarea id="input-text" rows="4" cols="80"></textarea>
        </div>

        <div id="file-input-section" class="hidden">
            <input type="file" id="file-input" accept=".txt,.text" />
        </div>

        <div class="analyze-btn">
            <button id="analyze-btn">Analizza il testo</button>
        </div>
    </section>

    <div class="centered-space">
        <label>
            <input type="checkbox" id="filter-toxic-checkbox" />
            Mostra solo frasi con tossicità ≥ 0.25
        </label>
    </div>

    <section class="analysis-summary">
        <div id="overall-summary"></div>

        <div id="loader" class="loader hidden"></div>

        <h3 id="dettaglio-titolo" class="section-title hidden">Visualizzazione dettagliata per frase:</h3>

        <div class="results-container">
            <div id="highlighted-text" class="results-block hidden"></div>
            <div id="details-wrapper" class="results-block hidden">
                <div id="details-content" class="hidden">Clicca su una frase per vedere i dettagli.</div>
            </div>
        </div>
    </section>

    <div id="export-buttons" class="analyze-btn">
        <button id="export-csv-btn" class="hidden">Esporta CSV</button>
        <button id="export-json-btn" class="hidden">Esporta JSON</button>
    </div>

    <section class="toxicity-classes table-section">
        <table>
            <thead>
                <tr>
                    <th>Classe</th>
                    <th>Range punteggio</th>
                    <th>Descrizione</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>NO TOSSICITÀ</td>
                    <td>0.00 – 0.24</td>
                    <td><span class="no-toxicity">Contenuto non offensivo</span></td>
                </tr>
                <tr>
                    <td>BASSA</td>
                    <td>0.25 – 0.49</td>
                    <td><span class="low-toxicity">Contenuto leggermente problematico ma tollerabile</span></td>
                </tr>
                <tr>
                    <td>MEDIA</td>
                    <td>0.50 – 0.74</td>
                    <td><span class="medium-toxicity">Contenuto offensivo moderato</span></td>
                </tr>
                <tr>
                    <td>ALTA</td>
                    <td>0.75 – 1.00</td>
                    <td><span class="high-toxicity">Contenuto estremamente tossico o dannoso</span></td>
                </tr>
            </tbody>
        </table>
    </section>

</body>
</html>
